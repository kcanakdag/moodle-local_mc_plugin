/**
 * Repository module for AJAX calls to the backend.
 *
 * @module     local_mc_plugin/local/admin/repository
 * @copyright  2025 Kerem Can Akdag
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("local_mc_plugin/local/admin/repository",[],(function(){const postForm=async(url,data)=>{const params=new URLSearchParams;Object.entries(data).forEach((_ref=>{let[key,value]=_ref;params.append(key,value)}));return(await fetch(url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:params.toString()})).json()};return{initConnection:async function(connectUrl,sesskey){return postForm(connectUrl,{action:"init",sesskey:sesskey})},pollConnectionStatus:async function(apiUrl,token){return(await fetch("".concat(apiUrl,"/connect/status?token=").concat(encodeURIComponent(token)))).json()},saveCredentials:async function(saveUrl,sesskey,siteKey,siteSecret){return postForm(saveUrl,{action:"save",sesskey:sesskey,siteKey:siteKey,siteSecret:siteSecret})},getConnectionStatus:async function(syncUrl,sesskey){return postForm(syncUrl,{action:"status",sesskey:sesskey})},saveSettings:async function(ajaxSaveUrl,sesskey,values){return postForm(ajaxSaveUrl,{action:"save",sesskey:sesskey,...values})},syncEvents:async function(syncUrl,sesskey){return postForm(syncUrl,{action:"sync",sesskey:sesskey})},syncAllEvents:async function(syncUrl,sesskey){return postForm(syncUrl,{action:"syncall",sesskey:sesskey})}}}));

//# sourceMappingURL=repository.min.js.map