{"version":3,"file":"templates.min.js","sources":["../../../src/local/admin/templates.js"],"sourcesContent":["/**\n * Template rendering helper module for the admin settings page.\n *\n * Provides functions to render Mustache templates client-side using\n * Moodle's Templates API for dynamic UI updates.\n *\n * @module     local_mc_plugin/local/admin/templates\n * @copyright  2025 Kerem Can Akdag\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport Templates from 'core/templates';\nimport {exception as displayException} from 'core/notification';\n\n/**\n * Render the connection status into a container.\n *\n * Uses the connection_status_dynamic template for client-side rendering\n * after API calls to update the status display.\n *\n * @param {HTMLElement} container The container element to render into\n * @param {Object} context The template context\n * @param {boolean} context.connected Whether the site is connected\n * @param {string} context.statusclass CSS class for status text\n * @param {string} context.dotclass CSS class for status dot\n * @param {string} context.statustext Status text to display\n * @param {string} [context.sitename] Connected site name\n * @param {boolean} [context.hassitename] Whether sitename is present\n * @param {string} [context.syncstatus] Sync status text\n * @param {boolean} [context.hassyncstatus] Whether syncstatus is present\n * @returns {Promise<void>}\n */\nexport const renderConnectionStatus = async(container, context) => {\n    try {\n        const {html, js} = await Templates.renderForPromise(\n            'local_mc_plugin/connection_status_dynamic',\n            context\n        );\n        Templates.replaceNodeContents(container, html, js);\n    } catch (error) {\n        displayException(error);\n    }\n};\n\n/**\n * Render an action result message into a container.\n *\n * Uses the action_result template for client-side rendering\n * to display success or error messages after save/sync operations.\n *\n * @param {HTMLElement} container The container element to render into\n * @param {Object} context The template context\n * @param {boolean} context.success Whether the operation was successful\n * @param {string} context.message Message text to display\n * @param {string} context.alertclass CSS class for alert styling\n * @returns {Promise<void>}\n */\nexport const renderActionResult = async(container, context) => {\n    try {\n        const {html, js} = await Templates.renderForPromise(\n            'local_mc_plugin/action_result',\n            context\n        );\n        Templates.replaceNodeContents(container, html, js);\n    } catch (error) {\n        displayException(error);\n    }\n};\n\n/**\n * Build context object for connection status template.\n *\n * Helper function to construct the context object from API response data.\n *\n * @param {boolean} connected Whether connected\n * @param {string} statusText Status text to display\n * @param {string|null} siteName Site name if connected\n * @param {string|null} syncStatus Sync status text\n * @returns {Object} Template context object\n */\nexport const buildConnectionStatusContext = (connected, statusText, siteName = null, syncStatus = null) => {\n    return {\n        connected: connected,\n        statusclass: connected ? 'text-success' : 'text-danger',\n        dotclass: connected ? 'text-success' : 'text-danger',\n        statustext: statusText,\n        sitename: siteName || '',\n        hassitename: Boolean(siteName),\n        syncstatus: syncStatus || '',\n        hassyncstatus: Boolean(syncStatus),\n    };\n};\n\n/**\n * Build context object for action result template.\n *\n * Helper function to construct the context object for result messages.\n *\n * @param {boolean} success Whether the operation was successful\n * @param {string} message Message text to display\n * @returns {Object} Template context object\n */\nexport const buildActionResultContext = (success, message) => {\n    return {\n        success: success,\n        message: message,\n        alertclass: success ? 'alert-success' : 'alert-danger',\n    };\n};\n"],"names":["async","container","context","html","js","Templates","renderForPromise","replaceNodeContents","error","connected","statusText","siteName","syncStatus","statusclass","dotclass","statustext","sitename","hassitename","Boolean","syncstatus","hassyncstatus","success","message","alertclass"],"mappings":";;;;;;;;;;sSAgCsCA,MAAMC,UAAWC,qBAEzCC,KAACA,KAADC,GAAOA,UAAYC,mBAAUC,iBAC/B,4CACAJ,4BAEMK,oBAAoBN,UAAWE,KAAMC,IACjD,MAAOI,mCACYA,qCAiBSR,MAAMC,UAAWC,qBAErCC,KAACA,KAADC,GAAOA,UAAYC,mBAAUC,iBAC/B,gCACAJ,4BAEMK,oBAAoBN,UAAWE,KAAMC,IACjD,MAAOI,mCACYA,+CAemB,SAACC,UAAWC,gBAAYC,gEAAW,KAAMC,kEAAa,WACvF,CACHH,UAAWA,UACXI,YAAaJ,UAAY,eAAiB,cAC1CK,SAAUL,UAAY,eAAiB,cACvCM,WAAYL,WACZM,SAAUL,UAAY,GACtBM,YAAaC,QAAQP,UACrBQ,WAAYP,YAAc,GAC1BQ,cAAeF,QAAQN,gDAaS,CAACS,QAASC,WACvC,CACHD,QAASA,QACTC,QAASA,QACTC,WAAYF,QAAU,gBAAkB"}